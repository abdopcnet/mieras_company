{"version":3,"file":"fix-selling-controller.min.js","sources":["../../../../apps/mieras_company/mieras_company/public/js/fix_transaction_v13.js"],"sourcesContent":["frappe.provide('erpnext.accounts.dimensions');\n\nerpnext.taxes_and_totals.prototype.is_internal_invoice = function () {\n    if (['Sales Invoice', 'Purchase Invoice'].includes(this.frm.doc.doctype)) {\n        if (this.frm.doc.is_internal_customer || this.frm.doc.is_internal_supplier) {\n            if (this.frm.doc.company === this.frm.doc.represents_company) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nerpnext.taxes_and_totals.prototype.calculate_outstanding_amount = function (update_paid_amount) {\n    // NOTE:\n    // paid_amount and write_off_amount is only for POS/Loyalty Point Redemption Invoice\n    // total_advance is only for non POS Invoice\n    if (in_list([\"Sales Invoice\", \"POS Invoice\"], this.frm.doc.doctype) && this.frm.doc.is_return) {\n        this.calculate_paid_amount();\n    }\n\n    if (this.frm.doc.is_return || (this.frm.doc.docstatus > 0) || this.is_internal_invoice()) return;\n\n    frappe.model.round_floats_in(this.frm.doc, [\"grand_total\", \"total_advance\", \"write_off_amount\"]);\n\n    if (in_list([\"Sales Invoice\", \"POS Invoice\", \"Purchase Invoice\"], this.frm.doc.doctype)) {\n        var grand_total = this.frm.doc.rounded_total || this.frm.doc.grand_total;\n\n        if (this.frm.doc.party_account_currency == this.frm.doc.currency) {\n            var total_amount_to_pay = flt((grand_total - this.frm.doc.total_advance\n                - this.frm.doc.write_off_amount), precision(\"grand_total\"));\n        } else {\n            var total_amount_to_pay = flt(\n                (flt(grand_total * this.frm.doc.conversion_rate, precision(\"grand_total\"))\n                    - this.frm.doc.total_advance - this.frm.doc.base_write_off_amount),\n                precision(\"base_grand_total\")\n            );\n        }\n\n        frappe.model.round_floats_in(this.frm.doc, [\"paid_amount\"]);\n        this.set_in_company_currency(this.frm.doc, [\"paid_amount\"]);\n\n        if (this.frm.refresh_field) {\n            this.frm.refresh_field(\"paid_amount\");\n            this.frm.refresh_field(\"base_paid_amount\");\n        }\n\n        if (in_list([\"Sales Invoice\", \"POS Invoice\"], this.frm.doc.doctype)) {\n            let total_amount_for_payment = (this.frm.doc.redeem_loyalty_points && this.frm.doc.loyalty_amount)\n                ? flt(total_amount_to_pay - this.frm.doc.loyalty_amount, precision(\"base_grand_total\"))\n                : total_amount_to_pay;\n                \n            this.set_default_payment(total_amount_for_payment, update_paid_amount);\n            this.calculate_paid_amount();\n        }\n        this.calculate_change_amount();\n\n        var paid_amount = (this.frm.doc.party_account_currency == this.frm.doc.currency) ?\n            this.frm.doc.paid_amount : this.frm.doc.base_paid_amount;\n        this.frm.doc.outstanding_amount = flt(total_amount_to_pay - flt(paid_amount) +\n            flt(this.frm.doc.change_amount * this.frm.doc.conversion_rate), precision(\"outstanding_amount\"));\n    }\n}\n\nerpnext.TransactionController.prototype.item_code = function (doc, cdt, cdn) {\n    var me = this;\n    var item = frappe.get_doc(cdt, cdn);\n    var update_stock = 0, show_batch_dialog = 0;\n    if (['Sales Invoice'].includes(this.frm.doc.doctype)) {\n        update_stock = cint(me.frm.doc.update_stock);\n        show_batch_dialog = update_stock;\n\n    } else if ((this.frm.doc.doctype === 'Purchase Receipt' && me.frm.doc.is_return) ||\n        this.frm.doc.doctype === 'Delivery Note') {\n        show_batch_dialog = 1;\n    }\n    // clear barcode if setting item (else barcode will take priority)\n    if (this.frm.from_barcode == 0) {\n        item.barcode = null;\n    }\n    this.frm.from_barcode = this.frm.from_barcode - 1 >= 0 ? this.frm.from_barcode - 1 : 0;\n\n\n    if (item.item_code || item.barcode || item.serial_no) {\n        if (!this.validate_company_and_party()) {\n            this.frm.fields_dict[\"items\"].grid.grid_rows[item.idx - 1].remove();\n        } else {\n            return this.frm.call({\n                method: \"erpnext.stock.get_item_details.get_item_details\",\n                child: item,\n                args: {\n                    doc: me.frm.doc,\n                    args: {\n                        item_code: item.item_code,\n                        barcode: item.barcode,\n                        serial_no: item.serial_no,\n                        batch_no: item.batch_no,\n                        set_warehouse: me.frm.doc.set_warehouse,\n                        warehouse: item.warehouse,\n                        customer: me.frm.doc.customer || me.frm.doc.party_name,\n                        quotation_to: me.frm.doc.quotation_to,\n                        supplier: me.frm.doc.supplier,\n                        currency: me.frm.doc.currency,\n                        update_stock: update_stock,\n                        conversion_rate: me.frm.doc.conversion_rate,\n                        price_list: me.frm.doc.selling_price_list || me.frm.doc.buying_price_list,\n                        price_list_currency: me.frm.doc.price_list_currency,\n                        plc_conversion_rate: me.frm.doc.plc_conversion_rate,\n                        company: me.frm.doc.company,\n                        order_type: me.frm.doc.order_type,\n                        is_pos: cint(me.frm.doc.is_pos),\n                        is_return: cint(me.frm.doc.is_return),\n                        is_subcontracted: me.frm.doc.is_subcontracted,\n                        transaction_date: me.frm.doc.transaction_date || me.frm.doc.posting_date,\n                        ignore_pricing_rule: me.frm.doc.ignore_pricing_rule,\n                        doctype: me.frm.doc.doctype,\n                        name: me.frm.doc.name,\n                        project: item.project || me.frm.doc.project,\n                        qty: item.qty || 1,\n                        net_rate: item.rate,\n                        stock_qty: item.stock_qty,\n                        conversion_factor: item.conversion_factor,\n                        weight_per_unit: item.weight_per_unit,\n                        weight_uom: item.weight_uom,\n                        manufacturer: item.manufacturer,\n                        stock_uom: item.stock_uom,\n                        pos_profile: cint(me.frm.doc.is_pos) ? me.frm.doc.pos_profile : '',\n                        cost_center: item.cost_center,\n                        tax_category: me.frm.doc.tax_category,\n                        item_tax_template: item.item_tax_template,\n                        child_docname: item.name\n                    }\n                },\n                callback: function (r) {\n                    if (!r.exc) {\n                        frappe.run_serially([\n                            () => {\n                                var d = locals[cdt][cdn];\n                                me.add_taxes_from_item_tax_template(d.item_tax_rate);\n                                if (d.free_item_data) {\n                                    me.apply_product_discount(d);\n                                }\n                            },\n                            () => {\n                                // for internal customer instead of pricing rule directly apply valuation rate on item\n                                if (me.frm.doc.is_internal_customer || me.frm.doc.is_internal_supplier) {\n                                    me.get_incoming_rate(item, me.frm.posting_date, me.frm.posting_time,\n                                        me.frm.doc.doctype, me.frm.doc.company);\n                                } else {\n                                    /**\n                                     * Fix(1) `Target warehouse == customer warehouse` error\n                                     * when user has default value for warehouse it set taht value even if the customer or suppler\n                                     * is not internal\n                                     */\n                                    item.target_warehouse = ''\n                                    item.from_warehouse = ''\n                                    me.frm.script_manager.trigger(\"price_list_rate\", cdt, cdn);\n                                }\n                            },\n                            () => {\n                                if (me.frm.doc.is_internal_customer || me.frm.doc.is_internal_supplier) {\n                                    me.calculate_taxes_and_totals();\n                                }\n                            },\n                            () => me.toggle_conversion_factor(item),\n                            () => {\n                                if (show_batch_dialog)\n                                    return frappe.db.get_value(\"Item\", item.item_code, [\"has_batch_no\", \"has_serial_no\"])\n                                        .then((r) => {\n                                            if (r.message &&\n                                                (r.message.has_batch_no || r.message.has_serial_no)) {\n                                                frappe.flags.hide_serial_batch_dialog = false;\n                                            }\n                                        });\n                            },\n                            () => {\n                                // check if batch serial selector is disabled or not\n                                if (show_batch_dialog && !frappe.flags.hide_serial_batch_dialog)\n                                    return frappe.db.get_single_value('Stock Settings', 'disable_serial_no_and_batch_selector')\n                                        .then((value) => {\n                                            if (value) {\n                                                frappe.flags.hide_serial_batch_dialog = true;\n                                            }\n                                        });\n                            },\n                            () => {\n                                if (show_batch_dialog && !frappe.flags.hide_serial_batch_dialog) {\n                                    var d = locals[cdt][cdn];\n                                    $.each(r.message, function (k, v) {\n                                        if (!d[k]) d[k] = v;\n                                    });\n\n                                    if (d.has_batch_no && d.has_serial_no) {\n                                        d.batch_no = undefined;\n                                    }\n\n                                    erpnext.show_serial_batch_selector(me.frm, d, (item) => {\n                                        me.frm.script_manager.trigger('qty', item.doctype, item.name);\n                                        if (!me.frm.doc.set_warehouse)\n                                            me.frm.script_manager.trigger('warehouse', item.doctype, item.name);\n                                    }, undefined, !frappe.flags.hide_serial_batch_dialog);\n                                }\n                            },\n                            () => me.conversion_factor(doc, cdt, cdn, true),\n                            () => me.remove_pricing_rule(item),\n                            () => {\n                                if (item.apply_rule_on_other_items) {\n                                    let key = item.name;\n                                    me.apply_rule_on_other_items({ key: item });\n                                }\n                            },\n                            () => {\n                                var company_currency = me.get_company_currency();\n                                me.update_item_grid_labels(company_currency);\n                            },\n                            () => {\n                                me.calculate_outstanding_amount(true)\n                            }\n                        ]);\n                    }\n                }\n            });\n        }\n    }\n}\n\nerpnext.TransactionController.prototype.qty = function (doc, cdt, cdn) {\n    let item = frappe.get_doc(cdt, cdn);\n    this.conversion_factor(doc, cdt, cdn, true);\n    this.calculate_stock_uom_rate(doc, cdt, cdn);\n    /**\n     * Apply pricing rules to update payments\n     */\n    this.apply_pricing_rule(item, true);\n    if (doc.is_pos) {\n        this.set_default_payment()\n    }\n}\n\nerpnext.TransactionController.prototype.rate = function (doc, cdt, cdn) {\n    /**\n     * Apply pricing rules to update payments\n     */\n    let item = frappe.get_doc(cdt, cdn);\n    this.conversion_factor(doc, cdt, cdn, true);\n    this.calculate_stock_uom_rate(doc, cdt, cdn);\n    /**\n     * Apply pricing rules to update payments\n     */\n    this.apply_pricing_rule(item, true);\n    if (doc.is_pos) {\n        this.set_default_payment()\n    }\n}\n"],"names":["frappe","provide","erpnext","taxes_and_totals","prototype","is_internal_invoice","includes","this","frm","doc","doctype","is_internal_customer","is_internal_supplier","company","represents_company","calculate_outstanding_amount","update_paid_amount","in_list","is_return","calculate_paid_amount","docstatus","model","round_floats_in","grand_total","rounded_total","party_account_currency","currency","total_amount_to_pay","flt","total_advance","write_off_amount","precision","conversion_rate","base_write_off_amount","set_in_company_currency","refresh_field","let","total_amount_for_payment","redeem_loyalty_points","loyalty_amount","set_default_payment","calculate_change_amount","paid_amount","base_paid_amount","outstanding_amount","change_amount","TransactionController","item_code","cdt","cdn","me","item","get_doc","update_stock","show_batch_dialog","cint","from_barcode","barcode","serial_no","validate_company_and_party","call","method","child","args","batch_no","set_warehouse","warehouse","customer","party_name","quotation_to","supplier","price_list","selling_price_list","buying_price_list","price_list_currency","plc_conversion_rate","order_type","is_pos","is_subcontracted","transaction_date","posting_date","ignore_pricing_rule","name","project","qty","net_rate","rate","stock_qty","conversion_factor","weight_per_unit","weight_uom","manufacturer","stock_uom","pos_profile","cost_center","tax_category","item_tax_template","child_docname","callback","r","exc","run_serially","d","locals","add_taxes_from_item_tax_template","item_tax_rate","free_item_data","apply_product_discount","get_incoming_rate","posting_time","target_warehouse","from_warehouse","script_manager","trigger","calculate_taxes_and_totals","toggle_conversion_factor","db","get_value","then","message","has_batch_no","has_serial_no","flags","hide_serial_batch_dialog","get_single_value","value","$","each","k","v","undefined","show_serial_batch_selector","remove_pricing_rule","apply_rule_on_other_items","key","company_currency","get_company_currency","update_item_grid_labels","fields_dict","grid","grid_rows","idx","remove","calculate_stock_uom_rate","apply_pricing_rule"],"mappings":"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"}